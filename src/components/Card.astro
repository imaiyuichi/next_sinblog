---
import ImageWrapper from '../components/ImageWrapper.astro';

interface Props {
  BlogData: {
    id: string;
    eyecatch: {
      url: string;
      width: number;
      height: number;
    };
    title: string;
    category: {
      publishedAt: string;
    };
  };
  splide?: boolean;
}

const { BlogData, splide } = Astro.props;
---

<article class:list=`blog ${splide && "splide__slide"}`>
  <a href={`/blog/${BlogData.id}`} class="link">
    <div class="blog__inner">
      <div class="blog__img">
        <ImageWrapper
          src={BlogData.eyecatch.url}
          width={BlogData.eyecatch.width}
          height={BlogData.eyecatch.height}
          alt=""
          classValue="image-cover"
        />
      </div>
      <div class="blog__text-area">
        <h2 class="blog__title">{BlogData.title}</h2>
        <p class="blog__date">
          公開日：
          {new Date(BlogData.category.publishedAt).toLocaleString()}
        </p>
      </div>
    </div>
  </a>
</article>

<style lang="scss">
  @import '../styles/_single';

  .blog {
    height: vw(324);
    background-color: #6e7072;
    backdrop-filter: blur(16px);
    border-radius: vw(10);
    transition: 0.5s;

    @include hover() {
      color: $color-base-black;
      background-color: #a5a9ad;
    }
  }

  .link {
    width: 100%;
  }

  .blog__inner {
    display: flex;
    align-items: center;
    height: 100%;
  }

  .blog__img {
    position: relative;
    width: vw(533);
    height: 100%;
    opacity: 0.8;

    .img {
      height: 100%;
      object-fit: cover;
    }
  }

  .blog__text-area {
    flex: 1;
    padding: vw(24);
  }

  .blog__title {
    font-size: vw(28);

    @include line-clamp(3);
  }

  .blog__date {
    margin: vw(20) 0 0;
    font-size: vw(16);
  }
</style>
