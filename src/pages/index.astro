---
import { getTop } from '../libs/macrocms';
import Layout from '../layouts/Layout.astro';
import IndexBlogs from '../partials/IndexBlogs.astro';
import IndexMv from '../partials/IndexMv.astro';
import IndexAbout from '../partials/IndexAbout.astro';
import IndexSkills from '../partials/IndexSkills.astro';
import IndexContact from '../partials/IndexContact.astro';

const topData = await getTop({
  fields: ['metaInfo'],
});

const { metaInfo } = topData;
---

<Layout {...metaInfo} pageType="top">
  <main class="main">
    <IndexMv />
    <IndexBlogs />
    <div class="webGl">
      <canvas class="canvas" id="webGl"></canvas>
      <IndexSkills />
      <IndexAbout />
      <IndexContact />
    </div>
  </main>
</Layout>
<script>
  import { startMyAnimation } from '../script/module/particle.js';

  startMyAnimation();
</script>

<style lang="scss">
  @import '../styles/_single';

  .main {
    font-family: $font-family-termina;

    @include sp() {
      width: 100%;
      padding: 0 vw_sp(30);
    }
  }

  .webGl {
    position: relative;
  }

  .canvas {
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
    width: 100% !important;
    height: 100vh;
  }
</style>
